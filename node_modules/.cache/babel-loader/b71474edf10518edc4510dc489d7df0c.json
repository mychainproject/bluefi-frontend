{"ast":null,"code":"var _jsxFileName = \"/home/hp/Desktop/Bluefi/bleufi-frontend/src/components/AssetItem/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport AudioImage from \"../Card/AudioImage\";\nimport VideoImage from \"../Card/VideoImage\";\nimport ReactTooltip from \"react-tooltip\";\nimport \"./style.css\";\nimport { toast } from \"react-toastify\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { firestore } from \"../../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AssetItem(props) {\n  _s();\n\n  const isCss = props.isCss;\n  const {\n    type,\n    image,\n    audio,\n    likes,\n    creator,\n    owner,\n    id,\n    imageAttach,\n    time,\n    auctionCreator\n  } = props.data;\n  const {\n    account\n  } = useWeb3React();\n  const [follow, setFollow] = useState(likes);\n  useEffect(() => {\n    setFollow(props.data.likes);\n  }, [props.data]);\n\n  const increaseLikes = () => {\n    if (account) {\n      const user_index = follow.indexOf(account);\n\n      if (creator === account) {\n        toast.error(\"You are a creator\");\n        return;\n      }\n\n      let temp = [...follow];\n\n      if (user_index > -1) {\n        temp[user_index] = temp[temp.length - 1];\n        temp.pop();\n      } else {\n        temp = [...temp, account];\n      }\n\n      firestore.collection(\"nfts\").doc(id).update({\n        likes: temp,\n        likesCount: temp.length\n      }).then(() => {\n        setFollow(temp);\n        toast.success(`You ${user_index === -1 ? \"\" : \"un\"}like the NFT`);\n      }).catch(err => {\n        toast.error(err);\n      });\n    } else {\n      toast.error(\"Please connect your wallet first\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"asset__item\",\n    children: [type === \"image\" ? /*#__PURE__*/_jsxDEV(\"a\", {\n      className: \"asset__img\",\n      href: image,\n      target: \"_blank\",\n      rel: \"noreferrer\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: \"\",\n        className: \"imgAsset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this) : type === \"audio\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: /*#__PURE__*/_jsxDEV(AudioImage, {\n        src: image,\n        audioPath: audio,\n        isCss: isCss,\n        onClick: e => {\n          e.preventDefault();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative item-video\",\n      children: /*#__PURE__*/_jsxDEV(VideoImage, {\n        src: image,\n        className: \"videoAsset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"d-none\",\n      children: [imageAttach && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"asset__lock\",\n        \"data-tip\": \"This NFT Contains Unlockable Content\",\n        \"data-effect\": \"solid\",\n        children: [time === 0 && owner === account || time > 0 && auctionCreator === account ? /*#__PURE__*/_jsxDEV(\"a\", {\n          href: imageAttach,\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"18\",\n            height: \"18\",\n            className: \"h-5 w-5\",\n            viewBox: \"0 0 20 20\",\n            fill: \"#bdbdbd\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"18\",\n          height: \"18\",\n          className: \"h-5 w-5\",\n          viewBox: \"0 0 20 20\",\n          fill: \"#bdbdbd\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(ReactTooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"asset__likes\",\n        type: \"button\",\n        onClick: increaseLikes,\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          viewBox: \"0 0 20 20\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            fill: (follow === null || follow === void 0 ? void 0 : follow.includes(account)) ? \"#eb5757\" : \"\",\n            d: \"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: follow === null || follow === void 0 ? void 0 : follow.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AssetItem, \"Tc6giLGwYMGx8redLf5+hQvmkOU=\", false, function () {\n  return [useWeb3React];\n});\n\n_c = AssetItem;\nexport default AssetItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"AssetItem\");","map":{"version":3,"sources":["/home/hp/Desktop/Bluefi/bleufi-frontend/src/components/AssetItem/index.js"],"names":["React","useEffect","useState","AudioImage","VideoImage","ReactTooltip","toast","useWeb3React","firestore","AssetItem","props","isCss","type","image","audio","likes","creator","owner","id","imageAttach","time","auctionCreator","data","account","follow","setFollow","increaseLikes","user_index","indexOf","error","temp","length","pop","collection","doc","update","likesCount","then","success","catch","err","e","preventDefault","includes"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport AudioImage from \"../Card/AudioImage\";\nimport VideoImage from \"../Card/VideoImage\";\nimport ReactTooltip from \"react-tooltip\";\nimport \"./style.css\";\nimport { toast } from \"react-toastify\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { firestore } from \"../../firebase\";\nfunction AssetItem(props) {\n  const isCss = props.isCss;\n  const {\n    type,\n    image,\n    audio,\n    likes,\n    creator,\n    owner,\n    id,\n    imageAttach,\n    time,\n    auctionCreator,\n  } = props.data;\n\n  const { account } = useWeb3React();\n  const [follow, setFollow] = useState(likes);\n  useEffect(() => {\n    setFollow(props.data.likes);\n  }, [props.data]);\n  const increaseLikes = () => {\n    if (account) {\n      const user_index = follow.indexOf(account);\n      if (creator === account) {\n        toast.error(\"You are a creator\");\n        return;\n      }\n      let temp = [...follow];\n      if (user_index > -1) {\n        temp[user_index] = temp[temp.length - 1];\n        temp.pop();\n      } else {\n        temp = [...temp, account];\n      }\n      firestore\n        .collection(\"nfts\")\n        .doc(id)\n        .update({ likes: temp, likesCount: temp.length })\n        .then(() => {\n          setFollow(temp);\n          toast.success(`You ${user_index === -1 ? \"\" : \"un\"}like the NFT`);\n        })\n        .catch((err) => {\n          toast.error(err);\n        });\n    } else {\n      toast.error(\"Please connect your wallet first\");\n    }\n  };\n\n  return (\n    <div className=\"asset__item\">\n      {type === \"image\" ? (\n        <a className=\"asset__img\" href={image} target=\"_blank\" rel=\"noreferrer\">\n          <img src={image} alt=\"\" className=\"imgAsset\" />\n        </a>\n      ) : type === \"audio\" ? (\n        <div className=\"relative\">\n          <AudioImage\n            src={image}\n            audioPath={audio}\n            isCss={isCss}\n            onClick={(e) => {\n              e.preventDefault();\n            }}\n          />\n        </div>\n      ) : (\n        <div className=\"relative item-video\">\n          <VideoImage src={image} className=\"videoAsset\" />\n        </div>\n      )}\n\n      {/* <!-- likes --> */}\n      <div class=\"d-none\">\n        {imageAttach && (\n          <div\n            className=\"asset__lock\"\n            data-tip=\"This NFT Contains Unlockable Content\"\n            data-effect=\"solid\"\n          >\n            {(time === 0 && owner === account) ||\n            (time > 0 && auctionCreator === account) ? (\n              <a href={imageAttach} target=\"_blank\" rel=\"noreferrer\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"18\"\n                  height=\"18\"\n                  className=\"h-5 w-5\"\n                  viewBox=\"0 0 20 20\"\n                  fill=\"#bdbdbd\"\n                >\n                  <path d=\"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z\" />\n                </svg>\n              </a>\n            ) : (\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"18\"\n                height=\"18\"\n                className=\"h-5 w-5\"\n                viewBox=\"0 0 20 20\"\n                fill=\"#bdbdbd\"\n              >\n                <path\n                  fillRule=\"evenodd\"\n                  d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\"\n                  clipRule=\"evenodd\"\n                />\n              </svg>\n            )}\n            <ReactTooltip />\n          </div>\n        )}\n        <button className=\"asset__likes\" type=\"button\" onClick={increaseLikes}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path\n              fillRule=\"evenodd\"\n              fill={follow?.includes(account) ? \"#eb5757\" : \"\"}\n              d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\"\n              clipRule=\"evenodd\"\n            />\n          </svg>\n          <span>{follow?.length}</span>\n        </button>\n        {/* <!-- end likes --> */}\n      </div>\n    </div>\n  );\n}\nexport default AssetItem;\n"]},"metadata":{},"sourceType":"module"}